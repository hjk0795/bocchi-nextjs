[{"/Users/hongjukim/Downloads/WebDev/bocchi-nextjs/bocchi/pages/_app.js":"1","/Users/hongjukim/Downloads/WebDev/bocchi-nextjs/bocchi/pages/api/login.js":"2","/Users/hongjukim/Downloads/WebDev/bocchi-nextjs/bocchi/pages/api/signup.js":"3","/Users/hongjukim/Downloads/WebDev/bocchi-nextjs/bocchi/pages/category/[category]/[restaurant].js":"4","/Users/hongjukim/Downloads/WebDev/bocchi-nextjs/bocchi/pages/category/[category]/index.js":"5","/Users/hongjukim/Downloads/WebDev/bocchi-nextjs/bocchi/pages/category.js":"6","/Users/hongjukim/Downloads/WebDev/bocchi-nextjs/bocchi/pages/dashboard.js":"7","/Users/hongjukim/Downloads/WebDev/bocchi-nextjs/bocchi/pages/index.js":"8","/Users/hongjukim/Downloads/WebDev/bocchi-nextjs/bocchi/pages/login.js":"9","/Users/hongjukim/Downloads/WebDev/bocchi-nextjs/bocchi/components/circle.js":"10","/Users/hongjukim/Downloads/WebDev/bocchi-nextjs/bocchi/components/detailCard.js":"11","/Users/hongjukim/Downloads/WebDev/bocchi-nextjs/bocchi/components/gridCards.js":"12","/Users/hongjukim/Downloads/WebDev/bocchi-nextjs/bocchi/components/header.js":"13","/Users/hongjukim/Downloads/WebDev/bocchi-nextjs/bocchi/components/layout.js":"14","/Users/hongjukim/Downloads/WebDev/bocchi-nextjs/bocchi/components/loginForm.js":"15","/Users/hongjukim/Downloads/WebDev/bocchi-nextjs/bocchi/components/restaurantCard.js":"16","/Users/hongjukim/Downloads/WebDev/bocchi-nextjs/bocchi/components/review.js":"17","/Users/hongjukim/Downloads/WebDev/bocchi-nextjs/bocchi/pages/api/auth/[...nextauth].js":"18"},{"size":560,"mtime":1666327977969,"results":"19","hashOfConfig":"20"},{"size":968,"mtime":1666759859896,"results":"21","hashOfConfig":"20"},{"size":920,"mtime":1666759859896,"results":"22","hashOfConfig":"20"},{"size":2358,"mtime":1666769541370,"results":"23","hashOfConfig":"20"},{"size":1546,"mtime":1666769543210,"results":"24","hashOfConfig":"20"},{"size":2096,"mtime":1666759725630,"results":"25","hashOfConfig":"20"},{"size":537,"mtime":1666322484782,"results":"26","hashOfConfig":"20"},{"size":1097,"mtime":1666148769821,"results":"27","hashOfConfig":"20"},{"size":892,"mtime":1666153530770,"results":"28","hashOfConfig":"20"},{"size":441,"mtime":1665184216689,"results":"29","hashOfConfig":"20"},{"size":8884,"mtime":1666774448093,"results":"30","hashOfConfig":"20"},{"size":767,"mtime":1665429976306,"results":"31","hashOfConfig":"20"},{"size":1514,"mtime":1665538217879,"results":"32","hashOfConfig":"20"},{"size":159,"mtime":1665099462712,"results":"33","hashOfConfig":"20"},{"size":2907,"mtime":1666153068946,"results":"34","hashOfConfig":"20"},{"size":1122,"mtime":1666338594789,"results":"35","hashOfConfig":"20"},{"size":2806,"mtime":1666775250057,"results":"36","hashOfConfig":"20"},{"size":517,"mtime":1666322338761,"results":"37","hashOfConfig":"20"},{"filePath":"38","messages":"39","suppressedMessages":"40","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"esyxgk",{"filePath":"41","messages":"42","suppressedMessages":"43","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"44","messages":"45","suppressedMessages":"46","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"47","messages":"48","suppressedMessages":"49","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"50","messages":"51","suppressedMessages":"52","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"53","messages":"54","suppressedMessages":"55","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"56","messages":"57","suppressedMessages":"58","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"59"},{"filePath":"60","messages":"61","suppressedMessages":"62","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"63","messages":"64","suppressedMessages":"65","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"66","messages":"67","suppressedMessages":"68","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"69","messages":"70","suppressedMessages":"71","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"72"},{"filePath":"73","messages":"74","suppressedMessages":"75","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"76","messages":"77","suppressedMessages":"78","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"79","messages":"80","suppressedMessages":"81","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"82","messages":"83","suppressedMessages":"84","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"85","messages":"86","suppressedMessages":"87","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"88","messages":"89","suppressedMessages":"90","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"91"},{"filePath":"92","messages":"93","suppressedMessages":"94","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/hongjukim/Downloads/WebDev/bocchi-nextjs/bocchi/pages/_app.js",[],[],"/Users/hongjukim/Downloads/WebDev/bocchi-nextjs/bocchi/pages/api/login.js",[],[],"/Users/hongjukim/Downloads/WebDev/bocchi-nextjs/bocchi/pages/api/signup.js",[],[],"/Users/hongjukim/Downloads/WebDev/bocchi-nextjs/bocchi/pages/category/[category]/[restaurant].js",[],[],"/Users/hongjukim/Downloads/WebDev/bocchi-nextjs/bocchi/pages/category/[category]/index.js",[],[],"/Users/hongjukim/Downloads/WebDev/bocchi-nextjs/bocchi/pages/category.js",[],[],"/Users/hongjukim/Downloads/WebDev/bocchi-nextjs/bocchi/pages/dashboard.js",["95"],[],"import { useSession } from \"next-auth/react\";\n\nexport default function Dashboard() {\n  const { data: session, status } = useSession();\n  const loading = status === \"loading\";\n\n  return(\n  <>\n    <h1>dashboard page</h1>\n\n    {loading && <div>Loading...</div>}\n    {session && (\n      <>\n        <p>\n          Welcome, {session.user.name ?? session.user.email}\n        </p>\n        <br />\n        <img src={session.user.image} alt=\"\" />\n      </>\n    )}\n    {!session && (\n      <>\n        <p>Please Sign in</p>\n      </>\n    )}\n  </>);\n}\n","/Users/hongjukim/Downloads/WebDev/bocchi-nextjs/bocchi/pages/index.js",[],[],"/Users/hongjukim/Downloads/WebDev/bocchi-nextjs/bocchi/pages/login.js",[],[],"/Users/hongjukim/Downloads/WebDev/bocchi-nextjs/bocchi/components/circle.js",[],[],"/Users/hongjukim/Downloads/WebDev/bocchi-nextjs/bocchi/components/detailCard.js",["96","97","98"],[],"import Review from \"./review\";\nimport Carousel from \"react-bootstrap/Carousel\";\nimport Link from \"next/link\";\nimport MyImage from \"../utils/imageLoader\";\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport { useState } from \"react\";\nimport Button from \"@mui/material/Button\";\nimport styles from \"./detailCard.module.css\";\nimport Rating from \"@mui/material/Rating\";\nimport { useSession } from \"next-auth/react\";\nimport { initializeApp } from \"firebase/app\";\n// import { getAnalytics } from \"firebase/analytics\";\nimport connectFirestore from \"../utils/connectFirestore\";\nimport {\n  collection,\n  query,\n  where,\n  orderBy,\n  limit,\n  startAfter,\n  getDocs,\n  getCountFromServer,\n  getFirestore,\n  doc,\n  setDoc,\n  addDoc,\n} from \"firebase/firestore\";\n\nexport default function DetailCard(props) {\n  const reviewPropArray = props.review.map((foundItem, index) => {\n    return {\n      star: foundItem.star,\n      review: foundItem.statement,\n      userName: foundItem.userName,\n      id: foundItem.id,\n    };\n  });\n\n  const { data: session, status } = useSession();\n  const name = props.name;\n  const [totalCount, setTotalCount] = useState(props.totalCount);\n  const [hasMore, setHasMore] = useState(true);\n  var [reviews, setReviews] = useState(reviewPropArray);\n  const [reviewWrite, setReviewWrite] = useState({\n    star: null,\n    review: \"\",\n    userName: \"\",\n    id: \"\",\n  });\n  const [isChecked, setIsChecked] = useState(false);\n\n  async function getMoreReviews() {\n    const [app, db] = await connectFirestore();\n\n    const next = query(\n      collection(db, `restaurants/${name}/reviews`),\n      orderBy(\"id\"),\n      startAfter(`${reviews.length}`),\n      limit(1)\n    );\n\n    const querySnapshot = await getDocs(next);\n\n    const nextReview = querySnapshot.docs[0];\n\n    reviews = [\n      ...reviews,\n      {\n        id: nextReview.data().id,\n        star: nextReview.data().star,\n        review: nextReview.data().statement,\n        userName: nextReview.data().userName,\n      },\n    ];\n\n    setReviews(reviews);\n    setHasMore(reviews.length < totalCount ? true : false);\n  }\n\n  function handleChange(event) {\n    const { name, value } = event.target;\n\n    setReviewWrite((prevReviewWrite) => {\n      if (name === \"reviewStar\") {\n        return {\n          star: Number(value),\n          review: prevReviewWrite.text,\n        };\n      } else {\n        return {\n          star: prevReviewWrite.star,\n          review: value,\n        };\n      }\n    });\n  }\n\n  function toggleHidden() {\n    setIsChecked(!isChecked);\n  }\n\n  const addReview = async (reviewWrite) => {\n    const [app, db] = await connectFirestore();\n\n    if (status === \"authenticated\") {\n      const docRef = await setDoc(\n        doc(db, `restaurants/${name}/reviews`, `${(reviews.length + 1)}`),\n        {\n          id: `${reviews.length + 1}`,\n          star: `${reviewWrite.star}`,\n          statement: `${reviewWrite.review}`,\n          userName: `${session.user.name}`,\n        }\n        );\n\n    } else if (status === \"unauthenticated\") {\n      const docRef = await setDoc(\n        doc(db, `restaurants/${name}/reviews`, `${reviews.length + 1}`),\n        {\n          id: `${reviews.length + 1}`,\n          star: `${reviewWrite.star}`,\n          statement: `${reviewWrite.review}`,\n          userName: \"anonymous\",\n        }\n        );\n    }\n\n    console.log(\"created!\")\n    totalCount = totalCount + 1;\n    setHasMore(true);\n  };\n\nfunction deleteReview(id) {\n\n  setReviews(reviews.filter((review)=> {\n    return review.id !== id;\n  }));\n}\n\n  return (\n    <>\n      <h1>{name}</h1>\n      <main>\n        <section class=\"py-5 text-center container\">\n          {MyImage()}\n          <br></br>\n          <span>\n            <Link\n              href=\"https://www.freepik.com/free-vector/hot-dog-restaurant-menu-template-with-illustrations_5059593.htm#query=food%20menu&position=1&from_view=keyword\"\n              passHref={true}\n            >\n              Image by BiZkettE1\n            </Link>{\" \"}\n            on Freepik\n          </span>\n        </section>\n\n        <div class=\"album py-5 bg-light\">\n          <div class=\"container\">\n            <div class=\"row row-cols-1 row-cols-sm-2 row-cols-md-2 g-3\">\n              <div class=\"col\">\n                <div class=\"card shadow-sm\" style={{ height: \"100%\" }}>\n                  <div class=\"card-body\">\n                    Google map\n                    {/* <iframe\n                      width=\"100%\"\n                      height=\"100%\"\n                      style={{ border: \"0\" }}\n                      loading=\"lazy\"\n                      allowfullscreen\n                      src={`https://www.google.com/maps/embed/v1/view?zoom=17&center=-36.8451%2C174.7675&key=${process.env.API_KEY_GOOGLE}`}\n                    ></iframe> */}\n                  </div>\n                </div>\n              </div>\n\n              <div class=\"col\">\n                <div class=\"card shadow-sm\" style={{ height: \"100%\" }}>\n                  <div class=\"card-body\">\n                    <Carousel style={{ filter: \"invert(100%)\" }}>\n                      <Carousel.Item>\n                        <img\n                          style={{ filter: \"invert(100%)\" }}\n                          className=\"d-block w-100\"\n                          src=\"https://cdn-icons-png.flaticon.com/512/84/84042.png\"\n                          alt=\"First slide\"\n                        />\n                      </Carousel.Item>\n                      <Carousel.Item>\n                        <img\n                          style={{ filter: \"invert(100%)\" }}\n                          className=\"d-block w-100\"\n                          src=\"https://cdn-icons-png.flaticon.com/512/84/84042.png\"\n                          alt=\"Second slide\"\n                        />\n                      </Carousel.Item>\n                      <Carousel.Item>\n                        <img\n                          style={{ filter: \"invert(100%)\" }}\n                          className=\"d-block w-100\"\n                          src=\"https://cdn-icons-png.flaticon.com/512/84/84042.png\"\n                          alt=\"Third slide\"\n                        />\n                      </Carousel.Item>\n                    </Carousel>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div class=\"row\">\n              <div class=\"col-3 d-flex justify-content-between align-items-center\">\n                <Rating\n                  name=\"reviewStar\"\n                  value={reviewWrite.star}\n                  size=\"small\"\n                  style={{ padding: \"7px 0 0 7px\" }}\n                  onChange={handleChange}\n                />\n              </div>\n              <div class=\"col-9\">\n                <div class=\"mt-3\">\n                  <div className={styles.textareaContainer}>\n                    <textarea\n                      class=\"form-control\"\n                      rows={isChecked ? \"3\" : \"1\"}\n                      name=\"reviewText\"\n                      placeholder=\"Write a review\"\n                      onChange={handleChange}\n                      value={reviewWrite.review}\n                      onClick={toggleHidden}\n                    ></textarea>\n                    <Button\n                      variant=\"outlined\"\n                      size=\"small\"\n                      style={{ display: isChecked ? \"block\" : \"none\" }}\n                      onClick={() => {\n                        return addReview(reviewWrite);\n                      }}\n                    >\n                      Post\n                    </Button>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <InfiniteScroll\n              dataLength={reviews.length}\n              next={getMoreReviews}\n              hasMore={hasMore}\n              loader={<h4>Loading...</h4>}\n              endMessage={<p>You have seen it all</p>}\n            >\n              {reviews.map((foundItem, index) => {\n                return (\n                  <Review\n                    id={foundItem.id}\n                    key={index}\n                    star={foundItem.star}\n                    statement={foundItem.review}\n                    userName={foundItem.userName}\n                    isAuthenticated={status}\n                    sessionUserName={\n                      status === \"authenticated\"\n                        ? session.user.name\n                        : \"anonymous\"\n                    }\n                    name={name}\n                    deleteReview={deleteReview}\n                  />\n                );\n              })}\n            </InfiniteScroll>\n          </div>\n        </div>\n      </main>\n\n      <footer class=\"text-muted py-5\">\n        <div class=\"container\">\n          <p class=\"float-end mb-1\">\n            <a href=\"#\">Back to top</a>\n          </p>\n        </div>\n      </footer>\n    </>\n  );\n}\n","/Users/hongjukim/Downloads/WebDev/bocchi-nextjs/bocchi/components/gridCards.js",[],[],"/Users/hongjukim/Downloads/WebDev/bocchi-nextjs/bocchi/components/header.js",[],[],"/Users/hongjukim/Downloads/WebDev/bocchi-nextjs/bocchi/components/layout.js",[],[],"/Users/hongjukim/Downloads/WebDev/bocchi-nextjs/bocchi/components/loginForm.js",[],[],"/Users/hongjukim/Downloads/WebDev/bocchi-nextjs/bocchi/components/restaurantCard.js",[],[],"/Users/hongjukim/Downloads/WebDev/bocchi-nextjs/bocchi/components/review.js",["99"],[],"import styles from \"./review.module.css\";\nimport { useSession } from \"next-auth/react\";\nimport { BiEdit } from \"react-icons/bi\";\nimport { BsTrash } from \"react-icons/bs\";\nimport { doc, deleteDoc, where } from \"firebase/firestore\";\nimport connectFirestore from \"../utils/connectFirestore\";\nimport { useEffect } from \"react\";\n\nexport default function Review(props) {\n  function numToStar(num) {\n    var star = \"\";\n\n    for (let i = 0; i < num; i++) {\n      star = star + \"★\";\n    }\n\n    return star;\n  }\n\n  async function deleteReview() {\n    const [app, db] = await connectFirestore();\n\n    await deleteDoc(doc(db, `restaurants/${props.name}/reviews`, `${props.id}`));\n\n    alert(\"Deleted\")\n  props.deleteReview(props.id);\n  }\n\n  async function editReview() {\n    const [app, db] = await connectFirestore();\n\n  //   await deleteDoc(doc(db, `restaurants/${props.name}/reviews`, `${props.id}`));\n\n  //   alert(\"Deleted\")\n  // props.deleteReview(props.id);\n  }\n\n\n  return (\n    <>\n      <div class=\"row g-3\" style={{ paddingTop: \"16px\" }}>\n        <div class=\"col-3\">\n          <p class=\"card-text\">\n            <div class=\"row row-cols-1 g-3\">\n              <div class=\"col\">\n                <div class=\"d-flex justify-content-between align-items-center\">\n                  <img\n                    src=\"https://cdn-icons-png.flaticon.com/512/84/84042.png\"\n                    width=\"100%\"\n                    height=\"100%\"\n                    alt=\"table image\"\n                  />\n                </div>\n              </div>\n            </div>\n          </p>\n        </div>\n\n        <div class=\"col\">\n          <div class=\"card shadow-sm\">\n            <div class=\"card-body\">\n              <div class=\"d-flex justify-content-between align-items-center\">\n                <small class=\"text-muted\">{numToStar(props.star)}</small>\n                {props.isAuthenticated === \"authenticated\" &&\n                  props.userName === props.sessionUserName && (\n                    <small>\n                      <BiEdit\n                        className={styles.BiEdit}\n                        style={{ marginRight: \"5px\", cursor: \"pointer\" }}\n                        onClick={editReview}\n                      />\n                      <BsTrash\n                        className={styles.BsTrash}\n                        style={{ cursor: \"pointer\" }}\n                        onClick={deleteReview}\n                      />\n                    </small>\n                  )}\n              </div>\n\n              <p class={`card-text ${styles.cardText}`}>{props.statement}</p>\n              <div class=\"d-flex justify-content-end align-items-center\">\n                <small class=\"text-muted\">{props.userName}</small>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n","/Users/hongjukim/Downloads/WebDev/bocchi-nextjs/bocchi/pages/api/auth/[...nextauth].js",[],[],{"ruleId":"100","severity":1,"message":"101","line":18,"column":9,"nodeType":"102","endLine":18,"endColumn":48},{"ruleId":"100","severity":1,"message":"101","line":182,"column":25,"nodeType":"102","endLine":187,"endColumn":27},{"ruleId":"100","severity":1,"message":"101","line":190,"column":25,"nodeType":"102","endLine":195,"endColumn":27},{"ruleId":"100","severity":1,"message":"101","line":198,"column":25,"nodeType":"102","endLine":203,"endColumn":27},{"ruleId":"100","severity":1,"message":"101","line":47,"column":19,"nodeType":"102","endLine":52,"endColumn":21},"@next/next/no-img-element","Do not use `<img>` element. Use `<Image />` from `next/image` instead. See: https://nextjs.org/docs/messages/no-img-element","JSXOpeningElement"]